# =============================================================================
# iMeetPro Secrets Configuration
# =============================================================================
# ⚠️ UPDATE THESE VALUES AFTER TERRAFORM APPLY ⚠️
# Get RDS endpoint from: terraform output rds_endpoint
# =============================================================================

# Backend Application Secrets
apiVersion: v1
kind: Secret
metadata:
  name: backend-secrets
  namespace: imeetpro
type: Opaque
stringData:
  # ==========================================================================
  # ⚠️ STEP 8A: Django Secret Key (generate new one)
  # Generate: python -c "import secrets; print(secrets.token_urlsafe(50))"
  # ==========================================================================
  SECRET_KEY: "your-super-secret-django-key-generate-new-one"
  
  # ==========================================================================
  # ⚠️ STEP 8B: Database Credentials (from terraform.tfvars)
  # ==========================================================================
  DB_USERNAME: "imeetpro_admin"
  DB_PASSWORD: "YourSuperSecurePassword123!@#$%"
  # ⚠️ Same as rds_password in terraform.tfvars
  
  # ==========================================================================
  # ⚠️ STEP 8C: MongoDB Credentials (set your own)
  # ==========================================================================
  MONGODB_USERNAME: "imeetpro_mongo"
  MONGODB_PASSWORD: "MongoDBSecurePass123!@#"
  
  # ==========================================================================
  # ⚠️ STEP 8D: Redis Password (set your own)
  # ==========================================================================
  REDIS_PASSWORD: "RedisSecurePass123!@#"
  
  # ==========================================================================
  # ⚠️ STEP 8E: LiveKit Credentials (from LiveKit Cloud Dashboard)
  # https://cloud.livekit.io → Your Project → Settings → Keys
  # ==========================================================================
  LIVEKIT_API_KEY: "your-livekit-api-key"
  LIVEKIT_API_SECRET: "your-livekit-api-secret"
  
  # ==========================================================================
  # ⚠️ STEP 8F: AWS Credentials (or use IRSA - preferred)
  # If using IRSA, leave these empty
  # ==========================================================================
  AWS_ACCESS_KEY_ID: ""
  AWS_SECRET_ACCESS_KEY: ""
  
  # ==========================================================================
  # ⚠️ STEP 8G: Email Configuration (for notifications)
  # ==========================================================================
  EMAIL_HOST_USER: "noreply@lancieretech.com"
  EMAIL_HOST_PASSWORD: "your-email-password"
  
  # Celery Flower Auth
  FLOWER_BASIC_AUTH: "admin:FlowerSecurePass123"

---
# MongoDB Secrets
apiVersion: v1
kind: Secret
metadata:
  name: mongodb-secrets
  namespace: databases
type: Opaque
stringData:
  # ⚠️ Same as MONGODB credentials above
  username: "admin"
  password: "MongoDBSecurePass123!@#"
  connection-string: "mongodb://admin:MongoDBSecurePass123!@#@mongodb-0.mongodb.databases.svc.cluster.local:27017,mongodb-1.mongodb.databases.svc.cluster.local:27017,mongodb-2.mongodb.databases.svc.cluster.local:27017/?replicaSet=rs0"

---
# Redis Secrets
apiVersion: v1
kind: Secret
metadata:
  name: redis-secrets
  namespace: databases
type: Opaque
stringData:
  # ⚠️ Same as REDIS_PASSWORD above
  password: "RedisSecurePass123!@#"

---
# Monitoring Auth Secret
apiVersion: v1
kind: Secret
metadata:
  name: monitoring-auth
  namespace: monitoring
type: Opaque
stringData:
  # Generate: htpasswd -nb admin YourMonitoringPassword
  auth: "admin:$apr1$xyz123$hashedpassword"
